package com.avaya.gsmb.auradeploymenttest;

import org.openqa.selenium.By;
import org.openqa.selenium.NoSuchElementException;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.interactions.Actions;

import com.avaya.gsmb.seleniumframework.test.TestCase;
import com.avaya.gsmb.seleniumframework.config.SeleniumProperties;

/**
 *This <b>Class</b> inherits from the Class <b>TestApplication</b> and tests the Application. 
 */

import com.avaya.gsmb.seleniumframework.test.TestApplication;

public class AuraDeploymentTestApplication extends TestApplication  {
	
	
	
	public AuraDeploymentTestApplication()  {
		
		super();
	}
	
	/**
	 * instantiates the Class <b>Login</b> and starts the Testing
	 */
	
	public void startTest()  {	
		
		m_driver.get(SeleniumProperties.getProperty("MAESTRO.url"));
		
		if(TestCase.isChromeDriver()) {
	       	m_driver.findElement(By.id("details-button")).click(); 
	       	m_driver.findElement(By.id("proceed-link")).click();
	    }
	        
	    /**
	    *Checks whether a Firefox  Driver is to be loaded.
	    *@throws NoSuchElementException
	    */
	        
		if(TestCase.isFirefoxDriver()) {
			try {
	        	 WebElement advBTN= m_driver.findElement(By.id("advancedButton"));
	        	 advBTN.click();
	        	 m_driver.findElement(By.id("exceptionDialogButton")).click();
	       	}
	         catch (NoSuchElementException e) {
	        }
		}
		m_driver.findElement(By.id("username")).sendKeys(SeleniumProperties.getTestProperty("MAESTRO.uid"));
	   	m_driver.findElement(By.id("password")).sendKeys(SeleniumProperties.getTestProperty("MAESTRO.pwd"));
	   	m_driver.findElement(By.cssSelector("body > div.container > form > input.btn.btn-primary")).click();
	        
	   	WebElement getMenu= m_driver.findElement(By.partialLinkText("Solutions"));
			
	   	Actions act = new Actions(m_driver);
	   	act.moveToElement(getMenu).perform();

			try {
				Thread.sleep(3000);
				} catch (InterruptedException e) {
					// TODO Auto-generated catch block
					e.printStackTrace();
				}
			
		WebElement getSubMenu= m_driver.findElement(By.partialLinkText("List"));
	   	getSubMenu.click();
			
	   	m_driver.findElement(By.cssSelector("#solutionsTable > tbody > tr > td.bs-checkbox > input[type=radio]")).click();
	   	m_driver.switchTo().defaultContent();
	   	m_driver.findElement(By.cssSelector("#detailsButton")).click();
	   	
	        
	        
		
		SMGRLogin login=new SMGRLogin(m_driver);
        login.startTest();
        
        SMGRSyncStatus sync=new SMGRSyncStatus(m_driver);
        sync.startTest();
        
        BreezeServerCheck servCheck=new BreezeServerCheck(m_driver);
        servCheck.startTest();
        
        BreezeClusterCheck clustCheck=new BreezeClusterCheck(m_driver);
        clustCheck.startTest();
        
        PSCheck installCheck=new PSCheck(m_driver);
        installCheck.startTest();
        
        SMCheck smCheck=new SMCheck(m_driver);
        smCheck.startTest();
        
        //PSLogin ps=new PSLogin(m_driver);
        //ps.startTest();
        
        CMLogin cm=new CMLogin(m_driver);
        cm.startTest();
		
        CMStatus cmStatus=new CMStatus(m_driver);
        cmStatus.startTest();
		
        AESLogin aes=new AESLogin(m_driver);
        aes.startTest();
        
        AESCheck aesCheck=new AESCheck(m_driver);
        aesCheck.startTest();
        
        m_driver.quit();
}
	
}